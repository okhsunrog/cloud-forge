---
vpn_subnets: # CIDR notation, these subnets will be added to iptables rules (masquerade)
  ocserv_personal: "10.67.76.0/24"
  ocserv_friends: "10.68.68.0/24"
  wireguard: "10.66.67.0/24"

wireguard_port: 51820

domains:
  ocserv_personal: "open.okhsunrog.dev"
  ocserv_friends: "kafe.okhsunrog.dev"
  nginx:
    blog:
      - "okhsunrog.ru"
      - "okhsunrog.dev"
    jellyfin:
      - "jellyfin.okhsunrog.ru"
      - "jellyfin.okhsunrog.dev"
    nextcloud:
      - "cloud.okhsunrog.ru"
      - "cloud.okhsunrog.dev"
    photoprism:
      - "photoprism.okhsunrog.ru"
      - "photoprism.okhsunrog.dev"
    snake:
      - "serpentina.okhsunrog.ru"
      - "snake.okhsunrog.dev"
    git:
      - "git.okhsunrog.dev"


ocserv_instances:
  - instance_id: "personal"
    domain: "{{ domains['ocserv_' + instance_id] }}"
    ipv4_network: "{{ vpn_subnets['ocserv_' + instance_id] }}"
    device: "vpn0"
    camouflage_secret: "p3rs0n4l_4cc3ss_0nly"
    camouflage_realm: "Nginx Admin Portal"

  - instance_id: "friends"
    domain: "{{ domains['ocserv_' + instance_id] }}"
    ipv4_network: "{{ vpn_subnets['ocserv_' + instance_id] }}"
    device: "vpn1"
    tcp_port: 448
    udp_enabled: false
    max_same_clients: 3
    bandwidth: 65536000  # ~65MB/s
    camouflage_secret: "fr13nds_c4f3_p0rt4l"
    camouflage_realm: "Apache Admin Portal"

